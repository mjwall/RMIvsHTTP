{"name":"RMIvsHTTP","body":"# RMI vs HTTP\r\n\r\n## Purpose\r\nThe purpose of this project is to test the performance of EJB communication vs\r\nexposing the EJB as a service and communication over HTTP/HTTPS\r\n\r\n## Design\r\nI will test 4 scenarios:\r\n\r\n1.  RMI using a local EJB interface, obviously the same JVM\r\n2.  RMI using a remote EJB interface on the same JVM\r\n3.  RMI using a remote EJB interface on a different JVM\r\n3.  HTTP exposing the EJB as a REST service\r\n4.  HTTPS exposting the EJB as a REST service\r\n\r\nThese tests will all use the same EJB.  They will be run on the same machine.\r\nto remove any network latency.  In practice, the network will decrease the\r\nperformance if the remote interface is called from a different machine or if\r\nthe HTTP client is located on a different server.\r\n\r\n## Running these for yourself\r\n\r\n### Getting everything installed and running\r\n\r\n1.  Install JBoss 6.1.0.Final, download from http://download.jboss.org/jbossas/6.1/jboss-as-distribution-6.1.0.Final.zip.\r\nIf you install it in ~/opt/jboss, you will not need to modify the project pom.  A symlink works too.\r\n1.  Install my patched version of the jboss maven plugin by cloning https://github.com/mjwall/maven-jboss-plugin.  Run the following and it should be be available for your use.  Read the README in the project to find out more \r\n \r\n        mvn clean install\r\n\r\n1.  Clone this project and cd into the top level directory\r\n1.  Open the top level pom and modify the jbossHome property to point to your install if you didn't install jboss in \r\n~/opt/jboss.\r\n1.  Set the JBOSS_HOME environment variable to point the same install directory\r\n1.  You may have to modify your settings.xml.  This is used to do deployments via JMX.  I didn't test it, but here is what I have in mine.\r\n\r\n        <servers>\r\n          <server>\r\n            <id>jboss-local</id>\r\n            <username>admin</username>\r\n            <password>admin</password>\r\n          </server>\r\n        </servers>\r\n    \r\n1. Compile the project by running the following, which will build all the artifacts for you.\r\n\r\n        mvn clean package\r\n    \r\n1. Deploy the artifacts to jboss by running the following.  This will copy jars and wars in JBOSS_HOME/server/default/deploy.\r\n\r\n        mvn jboss:hard-deploy\r\n    \r\n1. Start JBoss by running the following and then browse to http://localhost:8080 \r\n\r\n        mvn jboss:start\r\n\r\n### Executing the tests\r\n\r\nAssuming you have everything running correctly, the following instructions explain to reproduce each of the tests.\r\n\r\n#### RMI via a local interface\r\n\r\nHit the following url http://localhost:8080/rmi-vs-http-local/localtest.html.  At the bottom you should see the time it took.  Refresh a couple of times to see the time change\r\n\r\n#### RMI via a remote interface on the same JVM\r\n\r\nHit the following url http://localhost:8080/rmi-vs-http-local/remotetest.htm.  Again, see the time at the bottom\r\n\r\n#### RMI via a remote interface on a different JVM\r\n\r\nChange to the remote directory and execute the following\r\n\r\n    ./bin/run.sh\r\n    \r\nThe output will look similar to the test above and is in fact running the same code.  Rerun the commmand a couple of times \r\nto see changes\r\n","tagline":"A project to test performance of EJB with different communication protocols","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}